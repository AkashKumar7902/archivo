{% extends "index.html" %}

{% block content %}

<h2>Ontology Info Service</h2>
<br>
Select an ontology to get info on its latest version:
<form action="" method="POST" novalidate>
    {{ form.hidden_tag() }}
    {{ form.csrf_token }}
    <p>
        <div style="width: 400px">
            {{ form.uris(**{"onchange":"this.form.submit()"}) }}
        </div>
    </p>
</form>

{% if info.databusLink %}
Archivo URL on Databus: <a title="Databus Release" href={{ info.databusLink }} target="_blank">{{ info.databusLink }}</a><br><br>
Latest release URL: <a title="Databus Release" href={{ info.latestRelease }} target="_blank">{{ info.latestRelease }}</a> <br><br>
Source: {{ info.source }}<br><br>
Latest retrieval time: {{ info.accessed }}<br><br>
Archivement Date: {{ info.addedDate }} <br><br>
Triples: {{ info.triples }} <br><br>
Semantic Version: {{ info.semVersion }}<br><br>
<!--button type="button" class="collapsible">Archivo Stars</button-->Archivo-Stars : {{ info.stars }}
<div class="content">
    <p>
        <table>
            <tr>
                <td><span title="The Ontology is accessible at the IRI and parses with neglegible errors & warnings">First Star: Retrieval & Parsing</span></td>
                <td><span title="The ontology contains at least some license information">Second Star: License I</span></td>
                <td><span title="The ontology contains the URI of the license given by dct:license">Third Star: License II</span></td>
                <td><span title="The ontology is consistent (tested by pellet)">Fourth Star: Consistency</span></td>
            </tr>
            <tr>
                <td>{{info.parseable}}</td>
                <td>{{info.licenseI}}</td>
                <td>{{info.licenseII}}</td>
                <td>{{info.consistent}}</td>
            </tr>
        </table>
    </p>
</div>


{% else %}
{{ info.message }}<br><br>
{% endif %}

<script>
$(document).ready(function() {
    $('#uris').select2({  // init Select2 on form's uris field
        placeholder: "{{ form.uris.label.text }}",
        allowClear: true,
        "width": 500
    });
});
</script>

{% endblock %}
